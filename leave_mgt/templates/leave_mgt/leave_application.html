{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
  <form method="POST" enctype="multipart/form-data" class="card p-3 col-lg-6 col-md-12 col-sm-12 ">
    {% csrf_token %}
    <!-- this is a required line for added security -->
    <fieldset class="form-group">
      <legend class="border-bottom mb-1">Apply for a Leave</legend>
      {{ form|crispy }}
      <!-- {{ form.media }} -->
      <!-- {{ form|crispy }} -->
      {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {% for error in form.non_field_errors %}
                {{ error }}
            {% endfor %}
        </div>
      {% endif %}
      
    </fieldset>
    {{form.errors}}
    <small>
    <div class="form-group">
      <button class="btn btn-success" type="submit">Submit request</button>
    </div>
    <!-- Add the "Today" button for the start_date field -->
    <button type="button" id="todayButton">Today</button>
</form>

<script>
document.getElementById('todayButton').addEventListener('click', function() {
    var today = new Date().toISOString().slice(0,10);
    document.getElementById('id_start_date').value = today;
    document.getElementById('id_end_date').value = today;
});
</script>


{% endblock content %}